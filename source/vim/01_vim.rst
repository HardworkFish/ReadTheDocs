Vim 基本应用(1)
===============

*Vim是一神级文本编辑器，早期的 Unix 使用的是 vi
作为系统默认的编辑器，Vim 是 Vi 的升级版。Vi 与 Vim 的最大区别是 Vim
能够显示颜色。有些系统并不默认安装 Vim，如
ArchLinux，但你可以自行安装它。*

1.1 背景
^^^^^^^^

在 Windows 开发环境下呆久了，或许你会更喜欢 IDE。不可否认，IDE
确实强大，例如在开发 Java、C# 时，IDE 自带 Debug
调试工具，方便调试程序。但并不是每种环境都有现成的 IDE 可用，特别是像
SSH 远程计算机，就一个 Bash 解析器可用。另外，虽然 IDE
避免不了需要反复配置或更新。

如果是在类 Unix 环境下开发，学习熟练使用 Vim
是非常有必要的。所谓的熟练也就是达到舍弃对鼠标的依赖，只使用键盘就能够快速地在
Vim 上进行开发。

在 Linux 系统下，如果系统不默认自带，可以通过软件包管理程序下载，在
Windows下可以下载 `Cmder <http://cmder.net/>`__ 终端工具。

1.2 Vim 介绍
^^^^^^^^^^^^

在介绍 Vim（全称是 vi improved）之前，先来了解 Vi（全称 visual editor
）。在 Unix/Linux 的 bash 下，输入 vi 来编辑文本。注意，当你使用 vi
修改文本时，并不是真正的修改了存放在磁盘上的文件，而是修改了该文件在内存中的拷贝副本。只有当你显示的保存文件时，该内存中的副本才会被写入磁盘，并覆盖文件。

vim 有 3 种模式：一般模式、编辑模式和命令模式。 #### 1.3 一般模式
当使用命令 ``vim filename``
编辑文件的时候，默认进入的就是该文件的一般模式。在这个模式下，你可以进行的操作有：上下移动光标、删除某个字符、删除某行以及复制粘贴一行或多行。

首先从现有的文件中复制一份出来进行操作

::

    $ cp /etc/DIR_COLORS /tmp/vim_pratice01
    $ wc -l /tmp/vim_pratice01
    203 /tmp/vim_pratice01

我们选一个文件内容较多的文件比较适合用来学习。我们将 ``/etc/DIR_COLORS``
复制到一个新文件 ``/tmp/vim_pratice01`` 。可以通过
``cat /tmp/vim_pratice01``\ 查看该文件内容，或者直接使用 vim
对它进行编辑。

现在我们开始使用 Vim 工具来编辑它，按回车后进入文件
``/tmp/vim_pratice01``\ 。在该模式下，我们可以移动光标的位置。
|cmd-png-01|

Vim 文本编辑工具中移动光标常用的按键如下表1-1

表1-1 移动光标

+--------------------------+---------------------------------------------------------+
| 按键                     | 作用                                                    |
+==========================+=========================================================+
| h 或向左的方向键         | 光标往左移动一个字符                                    |
+--------------------------+---------------------------------------------------------+
| j 或向下的方向键         | 光标往下移动一个字符                                    |
+--------------------------+---------------------------------------------------------+
| k 或向上的方向键         | 光标往上移动一个字符                                    |
+--------------------------+---------------------------------------------------------+
| l 或向右的方向键         | 光标往右移动一个字符                                    |
+--------------------------+---------------------------------------------------------+
| H                        | 光标移动到此屏幕最上方的那一行                          |
+--------------------------+---------------------------------------------------------+
| M                        | 光标移动至此屏幕中央的那一行                            |
+--------------------------+---------------------------------------------------------+
| L                        | 光标移动至屏幕最下方的那一行                            |
+--------------------------+---------------------------------------------------------+
| gg                       | 光标移动到首行                                          |
+--------------------------+---------------------------------------------------------+
| G                        | 光标移动放到末行                                        |
+--------------------------+---------------------------------------------------------+
| nG(n是任意数字)          | 光标移动至第n行                                         |
+--------------------------+---------------------------------------------------------+
| n[Enter]                 | n 为数字，光标向下移动 n 行                             |
+--------------------------+---------------------------------------------------------+
| Ctrl+B                   | 页面往前翻一页                                          |
+--------------------------+---------------------------------------------------------+
| Ctrl+F                   | 页面往后翻一页                                          |
+--------------------------+---------------------------------------------------------+
| 数字0或Shift+6或[Home]   | 光标移动到行首                                          |
+--------------------------+---------------------------------------------------------+
| $ 或Shift+4或[End]       | 光标移动至行尾                                          |
+--------------------------+---------------------------------------------------------+
| w                        | 按字向后移动光标(包括标点)                              |
+--------------------------+---------------------------------------------------------+
| W                        | 按字向后移动光标(忽略标点)                              |
+--------------------------+---------------------------------------------------------+
| b                        | 按字向前移动光标(包括标点)                              |
+--------------------------+---------------------------------------------------------+
| B                        | 按字向前移动光标(忽略标点)                              |
+--------------------------+---------------------------------------------------------+
| e                        | 移动到字尾(包括标点)                                    |
+--------------------------+---------------------------------------------------------+
| E                        | 移动到字尾(忽略标点)                                    |
+--------------------------+---------------------------------------------------------+
| \+                        | 移动到非空格行符的下一行                                |
+--------------------------+---------------------------------------------------------+
| -                        | 移动到非空格行符的上一行                                |
+--------------------------+---------------------------------------------------------+
| n                        | n 为数字，按下数字后再按空格键，光标向右移动 n 个字符   |
+--------------------------+---------------------------------------------------------+
| nh (n 为数字)            | 光标向左移动6个字符（如 6h），其他方向键亦如此          |
+--------------------------+---------------------------------------------------------+

**注意：**\ 请注意这里的大小写，在 Vim
文本编辑工具里面，是大小写相关的。比如说 I 跟 i
是不同的命令。这个模式下的键盘敲击的命令是不会显示在屏幕上，每一个命令后面并不需要敲击回车(Enter)。

在一般模式下，我们还可以实现字符或字符串的复制、替换、删除、粘贴等操作，如下表表
1-2 所示

表1-2 一般模式下的编辑按键

+---------------------------------------------------+------------------------------------------------------------------------+
| 按键                                              | 作用                                                                   |
+===================================================+========================================================================+
| x 和 X                                            | x 向后删除一个字符相当于[Del]键;X向前删除一个字符相当于[Backspace]键   |
+---------------------------------------------------+------------------------------------------------------------------------+
| nx                                                | 向后删除 n 个字符                                                      |
+---------------------------------------------------+------------------------------------------------------------------------+
| dd                                                | 删除/剪切光标所在行                                                    |
+---------------------------------------------------+------------------------------------------------------------------------+
| ndd                                               | 删除/剪切光标所在行之后的 n 行（包括本行）                             |
+---------------------------------------------------+------------------------------------------------------------------------+
| d1G                                               | 删除光标所在到第一行的所有数据                                         |
+---------------------------------------------------+------------------------------------------------------------------------+
| dG                                                | 删除从光标所在到最后一行的所有数据                                     |
+---------------------------------------------------+------------------------------------------------------------------------+
| d$                                                | 删除从光标所在处到该行的最后一个字符                                   | 
+---------------------------------------------------+------------------------------------------------------------------------+
| d0                                                | 数字0，删除从光标所在处到该行的最前面一个字符                          | 
+---------------------------------------------------+------------------------------------------------------------------------+
| yy                                                | 复制光标所在行                                                         | 
+---------------------------------------------------+------------------------------------------------------------------------+
| nyy                                               | n 为数字，复制光标所在的向下 n 行，例：20yy 则是复制20行               | 
+---------------------------------------------------+------------------------------------------------------------------------+
| y1G                                               | 复制光标所在行到第一行的的说有数据                                     | 
+---------------------------------------------------+------------------------------------------------------------------------+
| yG                                                | 复制光标所在行到最后一行的数据                                         |
+---------------------------------------------------+------------------------------------------------------------------------+
| y0                                                | 复制光标所在的那个字符到该行行首的所有数据                             |
+---------------------------------------------------+------------------------------------------------------------------------+
| y$                                                | 复制光标所在的那个字符到该行行尾的所有数据                             |
+---------------------------------------------------+------------------------------------------------------------------------+
| p                                                 | 从光标所在行开始，向下粘贴已经复制或者粘贴的内容                       |
+---------------------------------------------------+------------------------------------------------------------------------+
| P                                                 | 从光标所在行开始，向上粘贴已经复制或者粘贴的内容                       |
+---------------------------------------------------+------------------------------------------------------------------------+
| v                                                 | 按下 v 后移动光标会选中指定字符，然后可以实现复制、粘贴等操作          |
+---------------------------------------------------+------------------------------------------------------------------------+
| J                                                 | 将光标所在行与下一行的数据结合成同一行                                 |
+---------------------------------------------------+------------------------------------------------------------------------+
| c                                                 | 重复删除多个数据，例如向下删除10行，[10cj]                             |
+---------------------------------------------------+------------------------------------------------------------------------+
| u                                                 | 撤销前一个操作                                                         |
+---------------------------------------------------+------------------------------------------------------------------------+
| .                                                 | 小数点，重复前一个操作的意思，如你要重复删除、复制、粘贴等操作         |
+---------------------------------------------------+------------------------------------------------------------------------+

1.4 编辑模式
^^^^^^^^^^^^

在一般模式下不可以修改某个字符，如果需要修改某个字符，只能进入编辑模式。从一般模式进入编辑模式，只需要按
``i``\ 、 ``I``
、\ ``a``\ 、\ ``A``\ 、\ ``o``\ 、\ ``O``\ 、\ ``r``\ 、\ ``R``
中的某个键即可。当进入编辑模式时,在屏幕的尾行会显示 ``INSERT`` 或
``REPLACE`` 的字样。如果需要从编辑模式回到一般模式，只需要按下 ``Esc``
键即可。

.. figure:: http://39.108.116.172/server/../Public/Uploads/2018-08-09/5b6b28cf8ce1b.png
   :alt: 

进入编辑模式下的常用操作如下表1-3

表1-3 进入编辑模式

+---------+------------------------------------------------------------------+
| 按键    | 作用                                                             |
+=========+==================================================================+
| i       | 在当前字符插入                                                   |
+---------+------------------------------------------------------------------+
| I       | 在光标所在行的行首插入                                           |
+---------+------------------------------------------------------------------+
| a       | 在当前字符后插入                                                 |
+---------+------------------------------------------------------------------+
| A       | 在光标所在行的行尾插入                                           |
+---------+------------------------------------------------------------------+
| o       | 在当前行的下一行插入新的一行                                     |
+---------+------------------------------------------------------------------+
| O       | 在当前行的上一行插入新的一行                                     |
+---------+------------------------------------------------------------------+
| r       | 进入替换模式，r 只会替换光标所在的那一个字符一次                 |
+---------+------------------------------------------------------------------+
| R       | 进入替换模式，R 会一直替换光标所在的文字，直到按下[Esc] 键为止   |
+---------+------------------------------------------------------------------+
| [Esc]   | 退出编辑模式，回到一般模式中                                     |
+---------+------------------------------------------------------------------+

1.5 命令模式
^^^^^^^^^^^^

在一般模式下，输入 ``:`` 或者
``/``\ 即可进入命令模式（在编辑模式下可先按 ``Esc``
退出编辑模式到一般模式后再按 ``:``
）。在命令模式下，我们可以搜索某个字符或者字符串，也可以保存、替换、退出、显示行号等操作。

.. figure:: http://39.108.116.172/server/../Public/Uploads/2018-08-09/5b6b2e38be786.png
   :alt: 

常见命令模式下的操作看下表1-4

表1-4 命令模式的编辑操作

+--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+-----------------------------------------------------------------------------------------------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| 按键                                                                                                                                                                                 | 作用                                                                                                            | 说明                                                                                                                                                                    |
+======================================================================================================================================================================================+=================================================================================================================+=========================================================================================================================================================================+
| :/word                                                                                                                                                                               | 在光标之后查找一个字符 word，按 n 后向后继续搜索                                                                |                                                                                                                                                                         |
+--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+-----------------------------------------------------------------------------------------------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| :?word                                                                                                                                                                               | 在光标之后查找一个字符 word，按 n 后向前继续搜索                                                                |
+--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+-----------------------------------------------------------------------------------------------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| :n1,n2s/word1/word2/g                                                                                                                                                                | 在 n1 和 n2 行之间查找 word1 并将其替换为 word2,不加 ``g`` 则只替换每一行的第一个 word                          | 在100到200行之间查找 http 并替换为 HTTP 则用”:100,200s/http/HTTP/g”                                                                                                     |
+--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+-----------------------------------------------------------------------------------------------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| :1,:math:`s/word1/word2/g|将文档中的所有 word1 替换为 word2|不加 `g`则只替换每行的第一个 word1| |:w|保存编辑后的文件但不退出|把内存缓冲区中的数据写入文件| |:1,`\ s/word1/word2/gc   | 从第一行到最后一行查找 word1 字符串，并将该字符串替换为 word2，且在替换前显示提示字符串给用户确认是否需要替换   |
+--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+-----------------------------------------------------------------------------------------------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| :w!                                                                                                                                                                                  | 强制保存，在 root 用户下，即使文本只读也可以完成保存                                                            | 如果文件访问权限不允许写入，例如原有的文件为只读则可强制写入，但仅当用户是文件的属主，而超级用户不受限制                                                                |
+--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+-----------------------------------------------------------------------------------------------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| :w filename                                                                                                                                                                          | 把编辑处理后的结果写到指定的文件中保存                                                                          |
+--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+-----------------------------------------------------------------------------------------------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| :w! filename                                                                                                                                                                         | 把编辑处理后的结果强制保存到指定的文件中，如果文件已经存在，则覆盖现有的文件                                    |
+--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+-----------------------------------------------------------------------------------------------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| :n1,n2w filename                                                                                                                                                                     | 将 n1 到 n2 的内容保存成 filename 这个文件                                                                      |
+--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+-----------------------------------------------------------------------------------------------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| :r filename                                                                                                                                                                          | 在编辑的文件中，读入另一个文件的数据，即将“filename”这个文件的内容加到光标所在行的后面                          |
+--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+-----------------------------------------------------------------------------------------------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| :q                                                                                                                                                                                   | 退出 Vim                                                                                                        | 未做任何编辑而准备退出时，可以使用此命令。如果已做过修改，则不允许用户使用“:q”命令退出，同时还会输出下列警告信息：\ ``No write since last change (:quit! overrides)``   |
+--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+-----------------------------------------------------------------------------------------------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| :q!                                                                                                                                                                                  | 强制退出，所有改动不生效                                                                                        | 放弃修改的结果。如果确实不需要保存修改后的文件内容，可输入“:q!”命令，强行退出                                                                                           |
+--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+-----------------------------------------------------------------------------------------------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| :wq                                                                                                                                                                                  | 保存并退出                                                                                                      | 把内存缓冲区中的数据写到文件中后退出。即使文件没有被修改也强制写入，并更新文件修改时间。另外一种替代的方法是用 ZZ 命令                                                  |
+--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+-----------------------------------------------------------------------------------------------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| :set nu                                                                                                                                                                              | 设置之后，在每一行的前缀显示该行的行号                                                                          |
+--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+-----------------------------------------------------------------------------------------------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| :set nonu                                                                                                                                                                            | 不显示行号                                                                                                      |
+--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+-----------------------------------------------------------------------------------------------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| ZZ                                                                                                                                                                                   | 保存文件并退出                                                                                                  | 使用 ZZ 命令时，如果文件已经修改，则把内存缓冲区中的数据写到文件中，然后退出 vim 编辑器。否则只是退出                                                                   |
+--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+-----------------------------------------------------------------------------------------------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| :x                                                                                                                                                                                   | 保存文件并退出                                                                                                  | 仅当文件被修改时才写入，并更新文件修改时间，否则不会更新文件修改时间                                                                                                    |
+--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+-----------------------------------------------------------------------------------------------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| :e!                                                                                                                                                                                  | 回滚所有修改至原始版本                                                                                          |                                                                                                                                                                         |
+--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+-----------------------------------------------------------------------------------------------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| n                                                                                                                                                                                    | n 为英文按键，代表重复前一个查找的操作                                                                          | 如执 ``:/http``,向下查找 ``http`` 这个字符串，按下 n 后会向下继续查找下一个名称为 ``http``\ 的字符串，如果执行 ``:?http`` 的话，那么按下 n 则会向上继续查               |
+--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+-----------------------------------------------------------------------------------------------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| N                                                                                                                                                                                    | N 为英文按键，与 n 刚好相反，为“反向”进行前一个查找操作                                                         | 如输入 ``/http``,按下 N 则向上查找 ``http``                                                                                                                             |
+--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+-----------------------------------------------------------------------------------------------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| :!commond                                                                                                                                                                            | 暂时离开 vim 到命令行模式执行commond的显示结果                                                                  | 例：“:!ls /home”即可在 vim 中查看 /home 下面以 ls 输出的文件信息                                                                                                        |
+--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+-----------------------------------------------------------------------------------------------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------+

.. figure:: http://39.108.116.172/server/../Public/Uploads/2018-08-09/5b6b9f5da3ac6.png
   :alt: 

**注意：**\ 现在来讨论下 ``ZZ``\ 、\ ``:x``\ 、\ ``:wq``
三种按键的异同。先看以下对 ``/tmp/vim_pratice01``
编辑的一个案例，请注意查看文件修改时间。

::

    #(1)首先查看这个文件属性
    $ ll /tmp/vim_pratice01
    -rw-r--r-- 1 TRsky 197121 2221 8月   9 08:41 /tmp/vim_pratice01

    #(2)过一两分钟后，我们使用 vim 并进入一般模式，不对文件进行修改，然后按 :x 退出
    $ vim /tmp/vim_pratice01
    $ ll /tmp/vim_pratice01
    -rw-r--r-- 1 TRsky 197121 2221 8月   9 08:41 /tmp/vim_pratice01

    #(3)使用 vim 并进入一般模式，不对文件进行修改，然后按 :wq 退出
    $ vim /tmp/vim_pratice01
    $ ll /tmp/vim_pratice01
    -rw-r--r-- 1 TRsky 197121 2221 8月   9 08:43 /tmp/vim_pratice01

    #(4)过一两分钟后，使用 vim 并进入一般模式，不对文件进行修改，然后按 ZZ 退出
    $ vim /tmp/vim_pratice01
    $ ll /tmp/vim_pratice01
    -rw-r--r-- 1 TRsky 197121 2221 8月   9 08:43 /tmp/vim_pratice01

仔细观察这几个按键虽然都是 ``保存退出``\ ，但针对当只是进入 vim
而未对文件进行修改时，就有了区别。一般情况下，这三者并没有什么不一样，但在编程方面，对编辑源文件可能就会产生重要影响。如你所见，即使文件没有被修改
``wq`` 也会强制写入并更新文件修改时间。而 ``ZZ`` 和
``:x``\ 仅当文件被修改时才写入和更新文件修改时间。

如果没有对文件进行修改，而却每次让其强制保存退出的话，这会让 make
在编译整个项目时以为文件被修改过了，然后重新编译链接生成可执行文件。这带来了不必要的资源开销和影响。但像使用版本控制的软件时一般首先是比较文件的内容，修改时间并不会理会。

1.6 小结
^^^^^^^^

上面的一些按键都是一些基本的命令。按键那么多，加上的组合所组成的功能的话那就更多了。但当基本的命令熟练之后，就可以通过不同的场景构造出相应的命令以达实际应用的效果。更多总结的按键可往下看，熟练程度还在于练习强度。一些
Vim 练习可查看 `Vim
基本按键练习 <http://39.108.116.172/web/#/27?page_id=256>`__\ 。

1.7 其他常用按键以及操作总结表
^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^

有些人可能比较喜欢通过图表来记忆，可以查看下图 |image1|

下面是一些总结表
''''''''''''''''

表1-5 多文件编辑的按键

+----------+---------------------------------+
| 按键     | 作用                            |
+==========+=================================+
| :n       | 编辑下一个文件                  |
+----------+---------------------------------+
| :N       | 编辑上一个文件                  |
+----------+---------------------------------+
| :files   | 列出目前这个vim打开的所有文件   |
+----------+---------------------------------+

.. figure:: http://39.108.116.172/server/../Public/Uploads/2018-08-09/5b6babc958812.png
   :alt: 

表1-6 多窗口情况下的按键功能

+---------------------+---------------------------------------------------------------------------------------------------------------------------------------+
| 按键                | 作用                                                                                                                                  |
+=====================+=======================================================================================================================================+
| :sp [filename]      | 打开一个新窗口，如果有加filename，表示在新窗口打开一个新文件，否则表示两个窗口为同一个文件内容（同步显示）                            |
+---------------------+---------------------------------------------------------------------------------------------------------------------------------------+
| Ctrl+w+j/Ctrl+w+↓   | 按键的按法是：先按下ctrl 不放，再按下w后放开所有的按键，然后再按下j（或下箭头键），则光标可以移动到下方的窗口                         |
+---------------------+---------------------------------------------------------------------------------------------------------------------------------------+
| Ctrl+w+k/Ctrl+w+↑   | 同上，不过光标移动到上方的窗口                                                                                                        |
+---------------------+---------------------------------------------------------------------------------------------------------------------------------------+
| Ctrl+w+q            | 其实就是 :q 结束离开，举例来说，如果我想要结束下方的窗口，那么利用 ctrl+w+↓ 移动到下方窗口后，按下 :q 即可离开，也可以按下 ctrl+w+q   |
+---------------------+---------------------------------------------------------------------------------------------------------------------------------------+

表1-7 按键Vim环境设置参数

+-------------------------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| 按键                                | 作用                                                                                                                                                                                                                                                                                  |
+=====================================+=======================================================================================================================================================================================================================================================================================+
| :set nu                             | 就是设置行号                                                                                                                                                                                                                                                                          |
+-------------------------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| :set nonu                           | 取消行号                                                                                                                                                                                                                                                                              |
+-------------------------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| :set hlsearch/:set nohlsearch       | hlsearch (high light search)，打开高亮显示(或不显示)查找到的文本，默认值是 hlsearch（显示）                                                                                                                                                                                           |
+-------------------------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| :set autoindent/:set noautoindent   | 表示是否自动缩排，autoindent 就是自动缩排                                                                                                                                                                                                                                             |
+-------------------------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| :set incsearch/:set noincsearch     | 打开（或关闭）显示查找匹配过程                                                                                                                                                                                                                                                        |
+-------------------------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| :set ingorecase/:set noingorecase   | 打开（关闭）忽略大小写                                                                                                                                                                                                                                                                |
+-------------------------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| :set backup                         | 表示是否自动保存备份文件，一般是 nobackup 的，如果设置 backup 的话，那么当你改动任何一个文件时，则源文件被另存为一个文件名为 filename~ 的文件，举例来说，我们编辑 hosts，设置 :set backup，那么当改动 hosts 时，在同目录下，就会产生 hosts~ 文件名的文件，记录原始的 hosts 文件内容   |
+-------------------------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| :set ruler                          | 右下角的一些状态栏说明，这个 ruler 就是来显示或者不显示该设置值的                                                                                                                                                                                                                     |
+-------------------------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| :set showmode                       | 这个则是是否要显示 --INSERT--之类的字眼在左下角的状态栏                                                                                                                                                                                                                               |
+-------------------------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| :set backspace=(012)                | 一般来说，如果我们按下i进入编辑模式后，可以用退格键,backspace 来删除任意字符的，但是某些distribution则不许如此，此时，我们可以通过 backspace 来设置，当 backspace 为2时，可以删除任意值，为0或1时，仅可删除刚才输入的字符，而无法删除原本已经存在的文字                               |
+-------------------------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| :set all                            | 显示目前所有的环境参数设置值                                                                                                                                                                                                                                                          |
+-------------------------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| :set                                | 显示与系统默认值不容的设置参数，一般来说就是你有自行变动过的设置参数                                                                                                                                                                                                                  |
+-------------------------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| :syntax on/:syntax off              | 表示是否依据程序相关语法显示不同颜色，举例来说，在编辑一个纯文件的时候，如果开头是以#号开始，那么该行就变成蓝色                                                                                                                                                                       |
+-------------------------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| :set bg=dark/:set bg=light          | 可以用以显示不同的颜色色调，默认是 light，如果你发现批注的字体深蓝色是在很不容易看，可以设置 dark                                                                                                                                                                                     |
+-------------------------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+

表1-8 还有一些常见的组合命令

+--------+----------------------------------------+
| 按键   | 作用                                   |
+========+========================================+
| 3h     | 向左移动 3 次光标，相当于 lll(L小写)   |
+--------+----------------------------------------+
| 3W     | 按3个字向后移动光标(忽略标点等)        |
+--------+----------------------------------------+
| 1G     | 移动到文件首行                         |
+--------+----------------------------------------+
| 3G     | 移动到文件第三行                       |
+--------+----------------------------------------+
| cw     | 修改后面的一个字                       |
+--------+----------------------------------------+
| c3b    | 修改前面的三个字                       |
+--------+----------------------------------------+
| c$     | 修改光标后的整行文字                   |
+--------+----------------------------------------+
| c0     | 修改光标之前的整行文字                 |
+--------+----------------------------------------+
| cc     | 修改整行                               |
+--------+----------------------------------------+
| dw     | 删除字                                 |
+--------+----------------------------------------+
| d3w    | 删除第三个字                           |
+--------+----------------------------------------+
| dd     | 删除整行                               |
+--------+----------------------------------------+
| 3dd    | 删除三行                               |
+--------+----------------------------------------+
| 3p     | 重复放置3次                            |
+--------+----------------------------------------+
| yy     | 拷贝整行                               |
+--------+----------------------------------------+

相关资源链接 
---------------

`Cmder下载点 <http://www.softpedia.com/get/Programming/Other-Programming-Files/?utm_source=spd&utm_campaign=postdl_redir>`__

`简体中文版（基础版）Vim按键表 <https://img-blog.csdn.net/20160907133419436?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQv/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/Center>`__

`英文版(基础版) <https://img-blog.csdn.net/20160907133719002?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQv/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/Center>`__

`程序员定制版（ on-screen
150DPI） <https://img-blog.csdn.net/20160907135207839?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQv/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/Center>`__

`程序员定制版（monochrome hard-copy
300DPI） <https://img-blog.csdn.net/20160907135434231?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQv/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/Center>`__

`程序员定制版（color hard-copy
300DPI） <https://img-blog.csdn.net/20160907135321944?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQv/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/Center>`__

`程序员定制版（color blind
hard-copy） <https://img-blog.csdn.net/20160907141347364?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQv/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/Center>`__

`Vim
图谱 <https://blog.csdn.net/xlgen157387/article/details/53184811>`__

.. |cmd-png-01| image:: http://39.108.116.172/server/../Public/Uploads/2018-08-08/5b6aabb3557a7.png
.. |image1| image:: http://39.108.116.172/server/../Public/Uploads/2018-08-09/5b6bb73d513d5.png
